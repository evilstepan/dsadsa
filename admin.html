<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω–∫–∞</title>
    <link rel="stylesheet" href="style1.css">

        
</head>
<body>

    <div class="login-container" id="loginContainer" style="display:none;">
        <form id="adminLoginForm">
            <h2>–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω–∫–µ</h2>
            <div class="form-group">
                <label for="admin-password">–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="admin-password" required>
                <button type="button" id="togglePassword">üëÅÔ∏è</button> <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø–∞—Ä–æ–ª—è -->
            </div>
            <button type="submit">–í–æ–π—Ç–∏</button>
        </form>
    </div>

    <div class="sidebar" id="sidebar" style="display:none;">
        <img src="free-icon-boy-4537069.png" alt="–õ–æ–≥–æ—Ç–∏–ø"> <!-- –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É –ª–æ–≥–æ—Ç–∏–ø—É -->
        <h2>–ê–¥–º–∏–Ω–∫–∞</h2>
        <a href="#">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</a>
        <a href="#">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</a> 
        <a id='logoutBtn' href="#">–í—ã—Ö–æ–¥</a> <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –≤—ã—Ö–æ–¥ -->
    </div>

    <section class="admin-panel" id="adminContent" style="display:none;">
        <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
        
        <!-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <table id="userTable">
            <thead>
                <tr>
                    <th>–ò–º—è</th>
                    <th>Email</th>
                    <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                    <th>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</th>
                    <th>–ü–∞—Ä–æ–ª—å</th> <!-- –ù–æ–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü –¥–ª—è –ø–∞—Ä–æ–ª–µ–π -->
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    <th></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

         <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
         <div id="editModal">
             <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
             <form id="editForm">
                 <input type="hidden" id="edit-index">
                 <div class="form-group">
                     <label for="edit-name">–ò–º—è:</label>
                     <input type="text" id="edit-name" required>
                 </div>

                 <div class="form-group">
                     <label for="edit-email">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞:</label>
                     <input type="email" id="edit-email" required>
                 </div>

                 <div class="form-group">
                     <label for="edit-phone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                     <input type="tel" id="edit-phone" required>
                 </div>

                 <div class="form-group">
                     <label for="edit-date">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</label>
                     <input type="date" id="edit-date" required>
                 </div>

                 <!-- –ü–æ–ª–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è (–º–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å) -->
                 <div class="form-group">
                     <label for="edit-password">–ü–∞—Ä–æ–ª—å:</label>
                     <input type='text' id='edit-password' required disabled> <!-- –ü–æ–ª–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è -->
                 </div>

                 <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                 <button type="button" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
             </form>
         </div>

         <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
         <div id="deleteModal">
             <h3>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h3>
             <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?</p>
             <button id='confirmDeleteBtn'>–î–∞, —É–¥–∞–ª–∏—Ç—å</button>
             <button onclick='closeDeleteModal()'>–û—Ç–º–µ–Ω–∞</button>
         </div>

    </section>

    <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ -->
    <script>
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–æ—à–µ–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
if (sessionStorage.getItem('isAdminLoggedIn')) {
    // –ï—Å–ª–∏ –¥–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∞–¥–º–∏–Ω–∫–∏
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('sidebar').style.display = 'block';
    document.getElementById('adminContent').style.display = 'block';
    
    loadUsers(); // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
} else {
    // –ï—Å–ª–∏ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è
    document.getElementById('loginContainer').style.display = 'flex';
}

document.getElementById('adminLoginForm').addEventListener('submit', function(event) {
    event.preventDefault(); // –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã

     const password = document.getElementById('admin-password').value;

     // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ Local Storage
     const users = JSON.parse(localStorage.getItem('users')) || [];
    
     // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≤–≤–µ–¥–µ–Ω–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º
     const user = users.find(user => user.password === password);

     if (user) {
         // –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω–∫—É
         sessionStorage.setItem('isAdminLoggedIn', 'true'); // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Ö–æ–¥–∞
         document.getElementById('loginContainer').style.display = 'none';
         document.getElementById('sidebar').style.display = 'block';
         document.getElementById('adminContent').style.display = 'block';
         
         loadUsers(); // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
     } else {
         alert("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!");
     }
 });

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ Local Storage –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ
function loadUsers() {
    const users = JSON.parse(localStorage.getItem('users')) || [];
    const tbody = document.querySelector('#userTable tbody');
    tbody.innerHTML = ''; // –û—á–∏—â–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π

    users.forEach((user, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${user.name}</td>
            <td>${user.email}</td>
            <td>${user.phone}</td>
            <td>${user.date}</td>
            <td>${user.password}</td> <!-- –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –ø–∞—Ä–æ–ª—å -->
            <td><button onclick='openEditModal(${index})'>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button></td>
            <td><button onclick='openDeleteModal(${index})'>–£–¥–∞–ª–∏—Ç—å</button></td>`; // –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
          
       tbody.appendChild(row);
   });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
function openEditModal(index) {
   const users = JSON.parse(localStorage.getItem('users')) || [];
   const user = users[index];

   document.getElementById('edit-index').value = index;
   document.getElementById('edit-name').value = user.name;
   document.getElementById('edit-email').value = user.email;
   document.getElementById('edit-phone').value = user.phone;
   document.getElementById('edit-date').value = user.date;

   document.getElementById('edit-password').value = user.password; // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –ø–∞—Ä–æ–ª—å

   document.getElementById('editModal').style.display = 'block';
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
function closeModal() {
   document.getElementById('editModal').style.display = 'none';
}

// –§—É–Ω–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞
document.getElementById('logoutBtn').addEventListener('click', function() {
   sessionStorage.removeItem('isAdminLoggedIn'); // –£–¥–∞–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Ö–æ–¥–µ
   window.location.reload(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É
});

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —É–¥–∞–ª–µ–Ω–∏—è
function openDeleteModal(index) {
   const deleteModal = document.getElementById("deleteModal");
   deleteModal.style.display = "block";

   // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è
   document.getElementById("confirmDeleteBtn").onclick = function() {
       deleteUser(index);
       closeDeleteModal();
   };
}

// –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —É–¥–∞–ª–µ–Ω–∏—è
function closeDeleteModal() {
   document.getElementById("deleteModal").style.display = "none";
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function deleteUser(index) {
   const users = JSON.parse(localStorage.getItem('users')) || [];
   
   users.splice(index, 1); // –£–¥–∞–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –º–∞—Å—Å–∏–≤–∞
   localStorage.setItem('users', JSON.stringify(users)); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ –≤ Local Storage
   loadUsers(); // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ñ–æ—Ä–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
document.getElementById('editForm').addEventListener('submit', function(event) {
   event.preventDefault(); // –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã

   const index = document.getElementById('edit-index').value;
   const users = JSON.parse(localStorage.getItem('users')) || [];

   // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   users[index] = {
       name: document.getElementById('edit-name').value,
       email: document.getElementById('edit-email').value,
       phone: document.getElementById('edit-phone').value,
       date: document.getElementById('edit-date').value,
       password: users[index].password // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–∞—Ä–æ–ª—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   };

   localStorage.setItem('users', JSON.stringify(users));
   closeModal();
   loadUsers(); // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
});
    </script>

</body>
</html>
